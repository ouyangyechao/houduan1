services:
  - type: web
    name: deepseek-car-diagnosis-api
    env: node
    region: ohio  # 可选：新加坡(singapore)、俄勒冈(oregon)等
    branch: main
    root: .  # 如果后端代码在根目录
    # 如果后端代码在子目录，比如 backend/，则改为：
    # root: backend
    
    # 构建命令
    buildCommand: npm install
    
    # 启动命令
    startCommand: npm start
    
    # 环境变量
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 3001
      # 注意：敏感信息如API密钥不要在yaml中硬编码
      # 请在Render控制台的Environment Variables中设置
      # - key: DEEPSEEK_API_KEY
      #   value: 你的API密钥
    
    # 使用免费计划
    plan: free
    
    # 自动部署设置
    autoDeploy: true
    
    # 健康检查路径
    healthCheckPath: /health
    
    # 高级配置
    disk:
      name: data
      mountPath: /data
      sizeGB: 1

# 如果需要数据库，可以取消注释以下部分
# databases:
#   - name: car-diagnosis-db
#     databaseName: car_diagnosis
#     user: car_user
#     plan: free